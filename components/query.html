

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Query Component &mdash; LASIF 0.1.x documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Validator Component" href="validator.html" />
    <link rel="prev" title="Iterations Component" href="iterations.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> LASIF
          

          
          </a>

          
            
            
              <div class="version">
                0.1.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation, Testing &amp; DevInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_doc.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../components.html">Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="project.html">Project Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="adjoint_sources.html">Adjoint Sources Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="downloads.html">Downloads Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html">Events Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="iterations.html">Iterations Component</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Query Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="validator.html">Validator Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualizations.html">Visualizations Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveforms.html">Waveforms Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="weights.html">Weights Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="windows.html">Windows Component</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LASIF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../components.html">Components</a> &raquo;</li>
        
      <li>Query Component</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/components/query.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="query-component">
<h1>Query Component<a class="headerlink" href="#query-component" title="Permalink to this headline">¶</a></h1>
<p>Do you have some sort of a query? Take it up with the query component.</p>
<p><strong>Contents:</strong></p>
<span class="target" id="module-lasif.components.query"></span><dl class="py class">
<dt id="lasif.components.query.DataTuple">
<em class="property">class </em><code class="sig-prename descclassname">lasif.components.query.</code><code class="sig-name descname">DataTuple</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">synthetics</span></em>, <em class="sig-param"><span class="n">coordinates</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lasif.components.query.DataTuple" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="lasif.components.query.DataTuple.coordinates">
<em class="property">property </em><code class="sig-name descname">coordinates</code><a class="headerlink" href="#lasif.components.query.DataTuple.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py method">
<dt id="lasif.components.query.DataTuple.data">
<em class="property">property </em><code class="sig-name descname">data</code><a class="headerlink" href="#lasif.components.query.DataTuple.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="lasif.components.query.DataTuple.synthetics">
<em class="property">property </em><code class="sig-name descname">synthetics</code><a class="headerlink" href="#lasif.components.query.DataTuple.synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lasif.components.query.QueryComponent">
<em class="property">class </em><code class="sig-prename descclassname">lasif.components.query.</code><code class="sig-name descname">QueryComponent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">communicator</span></em>, <em class="sig-param"><span class="n">component_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lasif/components/query.html#QueryComponent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lasif.components.query.QueryComponent" title="Permalink to this definition">¶</a></dt>
<dd><p>This component is responsible for making queries across the different
components and integrating them in a meaningful way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>communicator</strong> – The communicator instance.</p></li>
<li><p><strong>component_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The name of this component for the communicator.</p></li>
</ul>
</dd>
</dl>
<p>It should thus be initialized fairly late as it needs access to a number
of other components via the communicator.</p>
<dl class="py method">
<dt id="lasif.components.query.QueryComponent.get_all_stations_for_event">
<code class="sig-name descname">get_all_stations_for_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">list_only</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">intersection_override</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lasif/components/query.html#QueryComponent.get_all_stations_for_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lasif.components.query.QueryComponent.get_all_stations_for_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of all stations for one event and their
coordinates.</p>
<p>A station is considered to be available for an event if at least one
channel has raw data and an associated station file. Furthermore it
must be possible to derive coordinates for the station.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the event.</p></li>
<li><p><strong>list_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether you only want names of stations, defaults
to False.</p></li>
<li><p><strong>intersection_override</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – boolean to require to have the same
stations recording all events, i.e. the intersection of receiver
sets. The intersection will consider two stations equal i.f.f. the
station codes AND coordinates (LAT, LON, Z) are equal.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lasif.components.query.QueryComponent.get_coordinates_for_station">
<code class="sig-name descname">get_coordinates_for_station</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">station_id</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lasif/components/query.html#QueryComponent.get_coordinates_for_station"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lasif.components.query.QueryComponent.get_coordinates_for_station" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the coordinates for one station.</p>
<p>Must be in sync with <a class="reference internal" href="#lasif.components.query.QueryComponent.get_all_stations_for_event" title="lasif.components.query.QueryComponent.get_all_stations_for_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_all_stations_for_event()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of event</p></li>
<li><p><strong>station_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The unique id of the station in the waveform file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lasif.components.query.QueryComponent.get_matching_waveforms">
<code class="sig-name descname">get_matching_waveforms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">iteration</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">station_or_channel_id</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lasif/components/query.html#QueryComponent.get_matching_waveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lasif.components.query.QueryComponent.get_matching_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Get synthetic and processed waveforms for the same station and same
event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of event</p></li>
<li><p><strong>iteration</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of iteration</p></li>
<li><p><strong>station_or_channel_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id for the station of the channel</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A named tuple with processed waveforms, synthetic waveforms
and coordinates of station</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lasif.components.query.QueryComponent.get_stations_for_all_events">
<code class="sig-name descname">get_stations_for_all_events</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">intersection_override</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lasif/components/query.html#QueryComponent.get_stations_for_all_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lasif.components.query.QueryComponent.get_stations_for_all_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with a list of stations per event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>intersection_override</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – boolean to require to have the same
stations recording all events, i.e. the intersection of receiver
sets. The intersection will consider two stations equal i.f.f. the
station codes AND coordinates (LAT, LON, Z) are equal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lasif.components.query.QueryComponent.point_in_domain">
<code class="sig-name descname">point_in_domain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">latitude</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span></em>, <em class="sig-param"><span class="n">longitude</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span></em>, <em class="sig-param"><span class="n">depth</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lasif/components/query.html#QueryComponent.point_in_domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lasif.components.query.QueryComponent.point_in_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if the point is in the domain. Returns True/False</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>latitude</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The latitude of the point.</p></li>
<li><p><strong>longitude</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The longitude of the point.</p></li>
<li><p><strong>depth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The depth of the point</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="validator.html" class="btn btn-neutral float-right" title="Validator Component" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="iterations.html" class="btn btn-neutral float-left" title="Iterations Component" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016, Lion Krischer &amp; Andreas Fichtner.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>